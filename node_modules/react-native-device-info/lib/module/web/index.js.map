{"version":3,"sources":["index.js"],"names":["NativeEventEmitter","NativeModules","deviceInfoEmitter","RNDeviceInfo","isBatteryCharging","batteryLevel","powerState","getMaxMemorySync","window","performance","memory","jsHeapSizeLimit","getInstallReferrerSync","document","referrer","isAirplaneModeSync","navigator","onLine","getUserAgentSync","userAgent","isLocationEnabledSync","geolocation","getTotalMemorySync","deviceMemory","getUsedMemorySync","usedJSHeapSize","getPowerState","battery","level","charging","chargingtime","dischargingtime","lowPowerMode","batteryState","init","getBattery","addEventListener","emit","getBaseOsSync","platform","macosPlatforms","windowsPlatforms","iosPlatforms","os","indexOf","test","module","exports","getInstallReferrer","getUserAgent","isBatteryChargingSync","isCameraPresent","mediaDevices","enumerateDevices","devices","find","d","kind","isCameraPresentSync","console","log","getBatteryLevel","getBatteryLevelSync","isLocationEnabled","isAirplaneMode","getBaseOs","getTotalDiskCapacity","storage","estimate","quota","getTotalDiskCapacitySync","getFreeDiskStorage","usage","getFreeDiskStorageSync","getMaxMemory","getUsedMemory","getTotalMemory","getPowerStateSync"],"mappings":"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","sourcesContent":["import { NativeEventEmitter, NativeModules } from 'react-native';\n\nconst deviceInfoEmitter = new NativeEventEmitter(NativeModules.RNDeviceInfo);\n\nlet isBatteryCharging = false,\n  batteryLevel = -1,\n  powerState = {};\n\nconst getMaxMemorySync = () => {\n  if (window.performance && window.performance.memory) {\n    return window.performance.memory.jsHeapSizeLimit;\n  }\n  return -1;\n};\n\nconst getInstallReferrerSync = () => {\n  return document.referrer;\n};\n\nconst isAirplaneModeSync = () => {\n  return !!navigator.onLine;\n};\n\nconst getUserAgentSync = () => {\n  return window.navigator.userAgent;\n};\n\nconst isLocationEnabledSync = () => {\n  return !!navigator.geolocation;\n};\n\nconst getTotalMemorySync = () => {\n  if (navigator.deviceMemory) {\n    return navigator.deviceMemory * 1000000000;\n  }\n  return -1;\n};\n\nconst getUsedMemorySync = () => {\n  if (window.performance && window.performance.memory) {\n    return window.performance.memory.usedJSHeapSize;\n  }\n  return -1;\n};\n\nconst getPowerState = battery => {\n  const { level, charging, chargingtime, dischargingtime } = battery;\n\n  return {\n    batteryLevel: level,\n    lowPowerMode: false,\n    batteryState: level === 1 ? 'full' : charging ? 'charging' : 'unplugged',\n    chargingtime,\n    dischargingtime,\n  };\n};\n\nconst init = async () => {\n  if (navigator.getBattery) {\n    const battery = await navigator.getBattery();\n\n    isBatteryCharging = battery.charging;\n\n    battery.addEventListener('chargingchange', () => {\n      const { charging } = battery;\n\n      isBatteryCharging = charging;\n      powerState = getPowerState(battery);\n\n      deviceInfoEmitter.emit('RNDeviceInfo_powerStateDidChange', powerState);\n    });\n\n    battery.addEventListener('levelchange', () => {\n      const { level } = battery;\n\n      batteryLevel = level;\n      powerState = getPowerState(battery);\n\n      deviceInfoEmitter.emit('RNDeviceInfo_batteryLevelDidChange', level);\n      if (level < 0.2) {\n        deviceInfoEmitter.emit('RNDeviceInfo_batteryLevelIsLow', level);\n      }\n    });\n  }\n};\n\nconst getBaseOsSync = () => {\n  const userAgent = window.navigator.userAgent,\n    platform = window.navigator.platform,\n    macosPlatforms = ['Macintosh', 'MacIntel', 'MacPPC', 'Mac68K'],\n    windowsPlatforms = ['Win32', 'Win64', 'Windows', 'WinCE'],\n    iosPlatforms = ['iPhone', 'iPad', 'iPod'];\n\n  let os = platform;\n\n  if (macosPlatforms.indexOf(platform) !== -1) {\n    os = 'Mac OS';\n  } else if (iosPlatforms.indexOf(platform) !== -1) {\n    os = 'iOS';\n  } else if (windowsPlatforms.indexOf(platform) !== -1) {\n    os = 'Windows';\n  } else if (/Android/.test(userAgent)) {\n    os = 'Android';\n  } else if (!os && /Linux/.test(platform)) {\n    os = 'Linux';\n  }\n\n  return os;\n};\n\ninit();\n/**\n * react-native-web empty polyfill.\n */\nmodule.exports = {\n  getInstallReferrer: async () => {\n    return getInstallReferrerSync();\n  },\n  getInstallReferrerSync,\n  getUserAgent: async () => {\n    return getUserAgentSync();\n  },\n  getUserAgentSync,\n  isBatteryCharging: async () => {\n    if (navigator.getBattery) {\n      const battery = await navigator.getBattery();\n      return battery.level;\n    }\n    return false;\n  },\n  isBatteryChargingSync: async () => {\n    return isBatteryCharging;\n  },\n  isCameraPresent: async () => {\n    if (navigator.getBattery) {\n      const devices = await navigator.mediaDevices.enumerateDevices();\n      return !!devices.find(d => d.kind === 'videoinput');\n    }\n    return false;\n  },\n  isCameraPresentSync: async () => {\n    console.log(\n      '[react-native-device-info] isCameraPresentSync not supported - please use isCameraPresent'\n    );\n    return false;\n  },\n  getBatteryLevel: async () => {\n    if (navigator.getBattery) {\n      const battery = await navigator.getBattery();\n      return battery.level;\n    }\n    return -1;\n  },\n  getBatteryLevelSync: () => {\n    return batteryLevel;\n  },\n  isLocationEnabled: async () => {\n    return isLocationEnabledSync();\n  },\n  isLocationEnabledSync,\n  isAirplaneMode: async () => {\n    return isAirplaneModeSync();\n  },\n  isAirplaneModeSync,\n  getBaseOs: async () => {\n    return getBaseOsSync();\n  },\n  getBaseOsSync,\n  getTotalDiskCapacity: async () => {\n    if (navigator.storage && navigator.storage.estimate) {\n      const { quota } = await navigator.storage.estimate();\n      return quota;\n    }\n    return -1;\n  },\n  getTotalDiskCapacitySync: () => {\n    console.log(\n      '[react-native-device-info] getTotalDiskCapacitySync not supported - please use getTotalDiskCapacity'\n    );\n    return -1;\n  },\n  getFreeDiskStorage: async () => {\n    if (navigator.storage && navigator.storage.estimate) {\n      const { quota, usage } = await navigator.storage.estimate();\n      return quota - usage;\n    }\n    return -1;\n  },\n  getFreeDiskStorageSync: () => {\n    console.log(\n      '[react-native-device-info] getFreeDiskStorageSync not supported - please use getFreeDiskStorage'\n    );\n    return -1;\n  },\n  getMaxMemory: async () => {\n    return getMaxMemorySync();\n  },\n  getMaxMemorySync,\n  getUsedMemory: async () => {\n    return getUsedMemorySync();\n  },\n  getUsedMemorySync,\n  getTotalMemory: async () => {\n    return getTotalMemorySync();\n  },\n  getTotalMemorySync,\n  getPowerState: async () => {\n    if (navigator.getBattery) {\n      const battery = await navigator.getBattery();\n\n      return getPowerState(battery);\n    }\n    return {};\n  },\n  getPowerStateSync: () => {\n    return powerState;\n  },\n};\n"]}